# AWARE Analytics Service - Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# CLICKHOUSE DATABASE
# ============================================================================
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# ============================================================================
# DISCORD NOTIFICATIONS
# ============================================================================
# Get this from: Discord Server Settings > Integrations > Webhooks > New Webhook
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_TOKEN

# ============================================================================
# TELEGRAM NOTIFICATIONS
# ============================================================================
# Get bot token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# Chat ID for notifications (can be user, group, or channel)
# For groups/channels, use negative number (e.g., -1001234567890)
# To find your chat ID: message @userinfobot or @getidsbot
TELEGRAM_CHAT_ID=-1001234567890

# Optional: Forum topic thread ID (for sending to specific forum threads)
# TELEGRAM_THREAD_ID=123

# ============================================================================
# WEBHOOK NOTIFICATIONS
# ============================================================================
# Single webhook endpoint (for services like Zapier, n8n, custom APIs)
WEBHOOK_URL=https://your-webhook-endpoint.com/alerts

# Multiple webhooks (comma-separated, for broadcasting to multiple services)
# WEBHOOK_URLS=https://endpoint1.com/alerts,https://endpoint2.com/alerts

# HMAC secret for webhook signature verification (X-Aware-Signature header)
# Generate with: openssl rand -hex 32
# WEBHOOK_SECRET=your-secret-key

# Authorization header value (Bearer token or API key)
# WEBHOOK_AUTH_HEADER=Bearer your-api-token

# ============================================================================
# ALERT CONFIGURATION
# ============================================================================
# Minimum alert severity to send (LOW, MEDIUM, HIGH, CRITICAL)
ALERT_MIN_SEVERITY=MEDIUM

# Deduplication TTL in hours (prevents duplicate alerts)
ALERT_DEDUP_TTL_HOURS=24

# ============================================================================
# ML MODELS
# ============================================================================
# Directory to save trained models
ML_MODEL_DIR=models

# Number of strategy clusters (default 8 archetypes)
ML_N_CLUSTERS=8

# Anomaly detection contamination rate (expected % of anomalies)
ML_ANOMALY_CONTAMINATION=0.01

# ============================================================================
# SCHEDULER CONFIGURATION
# ============================================================================
# Enable/disable background scheduler
SCHEDULER_ENABLED=true

# Run intervals in minutes
SCORING_INTERVAL_MINUTES=60
PSI_INDEX_INTERVAL_MINUTES=60
INSIDER_DETECTION_INTERVAL_MINUTES=15
CONSENSUS_INTERVAL_MINUTES=30
EDGE_DECAY_INTERVAL_MINUTES=120
HIDDEN_ALPHA_INTERVAL_MINUTES=360

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=INFO
