hft:
  mode: PAPER
  events:
    enabled: true
  polymarket:
    market-ws-enabled: true
    auth:
      private-key: ""
      auto-create-or-derive-api-creds: false

logging:
  level:
    com.polybot.hft: INFO
    com.polybot.hft.executor.settlement: DEBUG

executor:
  sim:
    enabled: true
    fills-enabled: true
    fill-poll-millis: 250
    tob-max-age-millis: 5000
    maker-fill-min-age-millis: 500        # Reduced from 1000ms to allow earlier maker fills
    lead-lag-min-millis: 100              # Reduced from 200ms to allow faster hedges
    maker-fill-probability-per-poll: 0.020
    maker-fill-probability-multiplier-per-tick: 1.6
    maker-fill-probability-max-per-poll: 0.08
    maker-fill-fraction-of-remaining: 1.00
    # Queue-ahead model: fraction of best-bid size assumed ahead of us when we join the best bid.
    # Lower values increase tape-driven maker fills (closer to gab's ~55% maker mix).
    maker-queue-factor-min: 0.10           # Minimum allowed value (validation constraint)
    maker-queue-factor-max: 0.11           # Must be > min for random range
    trade-tape-enabled: true
    # Preferred: ClickHouse `market_ws_trades` (fed by WS last_trade_price prints with size+side+txHash).
    trade-tape-source: CLICKHOUSE_MARKET_WS_TRADES
    trade-tape-poll-millis: 500            # Reduced from 1000ms for faster fill detection
    trade-tape-limit: 50
    trade-tape-use-trade-timestamp: false
    trade-tape-fallback-enabled: true
    trade-tape-fallback-max-idle-millis: 1500
    trade-tape-fallback-probability-scale: 0.40   # Increased from 0.25 to get more fills when tape stalls
    trade-tape-bid-delta-cancel-scale: 0.25
    trade-tape-bid-delta-max-trade-lag-millis: 2000
    trade-tape-clickhouse-url: http://127.0.0.1:8123
    trade-tape-clickhouse-database: polybot
    trade-tape-clickhouse-user: ""
    trade-tape-clickhouse-password: ""
    trade-tape-clickhouse-lookback-seconds: 60   # Reduced from 300s - less historical data to process

  onchain:
    rpc-url: ${POLYGON_RPC_URL:https://polygon-rpc.com}
    proxy-wallet-factory-address: ""

  settlement:
    enabled: false
    dry-run: true
    poll-interval-millis: 30000
    min-merge-shares: 10
    max-retries: 3
    merge-only-near-end: true
    merge-seconds-before-end: 600
